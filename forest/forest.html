<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>  
        <script src="resource/js/parallax.js"></script>
        <script src="resource/js/sprite.js"></script>
    </head>
    <body>
        <div style="margin: 0 auto; width: 320px;">
            <canvas id="screen" width="400" height="200"></canvas>
        </div>
        <script>    
            // Fetch the canvas element and context
            var can = document.getElementById('screen');
            can.tabIndex = 1;
            var ctx = can.getContext('2d');

            // Initialize the layer and parallax scrolling
            var layer = new Array('resource/img/background-0.png',
                                  'resource/img/background-0.png',
                                  'resource/img/background-1.png',
                                  'resource/img/background-2.png');
            var parallax = new ParallaxScrolling(ctx, layer);

            can.addEventListener('keydown', function(e)
            {
                if (e.keyCode === 37)  // left
                {
                    parallax.Move(-1, 1);
                }
                else if (e.keyCode === 39)  // right
                {
                    parallax.Move(1, 1);
                }
            }, false);

            // Set ticks to 0 and initialize options array for our sprite
            var spriteOptions =
            {
                can: can,
                ctx: ctx,
                imgSrc: 'resource/img/walk.png',
                spw: 75,
                frames: 4
            };

            // Initialize the sprite and run the demo
            var sprite = new Sprite(spriteOptions);
            window.setInterval(Draw, 100);
            function Draw()
            {
                parallax.Draw();
                // sprite.Draw();
            }

        </script>
        <noscript>You need javascript to run the demo!</noscript>
    </body>
</html>
